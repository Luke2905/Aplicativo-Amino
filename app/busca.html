<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Busca Avançada po Propriedades</title>
    <link rel="icon" type="image/png" href="https://www.amino.com.br/wp-content/themes/amino/assets/img/amino-dark-logo.svg"/> <!-- colocar icone na aba do site -->
    <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="style-responsive.css" media="screen" />
    <!-- Java Script Externo -->
    <script src="javascript/script.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
        }
        .container {
            min-height: 600px;
            max-width: 100%;
            margin: 5px;
            background-color: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        .search-form label {
            font-size: 18px;
            color: #333;
        }
        .search-form input, .search-form select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .search-form .full-width {
            grid-column: span 2;
        }
        .search-form .checkbox-group {
            display: flex;
            align-items: center;
        }
        .search-form .checkbox-group input {
            margin-right: 10px;
        }
        .button-container {
            text-align: center;
            margin-top: 20px;
        }
        .button-container button {
            padding: 10px 30px;
            background-color: #2d6da3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .button-container button:hover {
            background-color: #1e4f76;
        }
        #input-busca{
            border-color: #1e4f76;
            height: 50px;
        }
        #prop-form{
            display: none;
            transition: 0.5s;
        }
        #form-aplic{
            display: none;
            transition: 0.5s;
        }
        #prop-form-pu{
            display: none;
            transition: 0.5s;
        }
        #segmento-atuacao{
            height: 50px;
            font-size: 15px;
        }

        @media screen and (max-width: 750px){
            .conteudo-busca {
                grid-column: 1 / span 3;
                grid-row: 2;
                min-height: 200px;
            }
            
            .filtro-busca {
                grid-column: 1 / span 3;
                grid-row: 1;
                height: 200px;
                min-width: 100%;
                overflow-y: auto;
            }
        }
    </style>
</head>
<body>
        <!-- Menu Lateral -->
        <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <h1>AMINO</h1>
            <h4 style="font-size: 75%;">Desenvolvimento de Fórmulas</h4>
            <a href="home.html"><img class="icon" src="https://cdn-icons-png.flaticon.com/512/25/25694.png" alt="screen"> Home</a>
            <a href="pag-erro.html"><img class="icon" src="https://cdn-icons-png.flaticon.com/512/1536/1536385.png" alt="screen"> Aplicação</a>
            <a href="busca.html"><img class="icon" src="https://cdn-icons-png.flaticon.com/512/702/702988.png" alt="screen">Busca por Propriedades</a>
            <a href="pag-erro.html"><img class="icon" src="https://static.vecteezy.com/ti/vetor-gratis/p1/5846675-quimica-preto-glifo-icone-reacao-quimica-em-copo-tubo-de-teste-pipeta-frasco-laboratorio-equipamento-aulas-quimica-silhueta-simbolo-em-espaco-branco-isolado-ilustracao-vetor.jpg" alt="screen"> Ensaios</a>
            <a href="formulas.html"><img class="icon" src="https://static.vecteezy.com/system/resources/previews/017/540/428/non_2x/formula-icon-free-vector.jpg" alt="screen"> Fórmula</a>
            <a href="pag-erro.html"><img class="icon" src="https://cdn-icons-png.flaticon.com/512/645/645652.png" alt="screen"> Matéria-Prima</a>
            <a href="pag-erro.html"><img class="icon" src="https://e7.pngegg.com/pngimages/900/842/png-clipart-computer-icons-encapsulated-postscript-others-angle-text.png" alt="screen"> Propriedades</a>
            <a href="pag-erro.html"><img class="icon" src="https://cdn-icons-png.flaticon.com/512/2363/2363742.png" alt="screen"> Sistema</a>
            <a href="comparativo.html"><img class="icon" src="https://cdn-icons-png.flaticon.com/512/45/45754.png" alt="screen"> Comparativo</a>
            <a href="pag-erro.html"><img class="icon" src="https://thumb.ac-illust.com/89/89e84c7e7bde4ad0161456287fd132ee_t.jpeg" alt="screen"> Troubleshoot</a>
            <a href="pag-erro.html"><img class="icon" src="https://static.vecteezy.com/system/resources/previews/008/442/086/non_2x/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg" alt="screen"> Usuários</a>
            <form action="login.html">
                <input class="botao" type="submit" value="Sair" />
            </form>
        </div>
        
        <!-- Conteúdo Principal -->
        <div id="main">
            <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; Menu</span>
    
            <!-- Cabeçalho da Página -->
            <div class="home-header">
                <h1 class="titulo-header"> Busca Avançada por Propriedades </h1>
            </div>
            <!-- Conteúdo da Pagina -->
                <div class="container">
                    <div class="conteudo">
                        <div class="filtro-busca">
                            <form class="search-form" action="">
                                <select id="segmento-atuacao">
                                    <option value="">Selecionar...</option>
                                    <option value="1">Aditivos</option>
                                    <option value="2">Sistema PU</option>
                                    <option value="3">CASE</option>
                                </select>
                            </form>
                    
                            <div id="produto">
                    
                                <div>
                                    <input class="check" type="checkbox" value="catalizador"><label for="catalizador">Catalizador</label>
                                </div>
                                <div>
                                    <input class="check" type="checkbox" value="silicone">
                                    <label for="silicone">Silicone</label>
                                </div>
                                <div>
                                    <input class="check" type="checkbox" value="pigmento">
                                    <label for="pigmento">Pigmentos</label>
                                </div>
                                <div>
                                    <input class="check" type="checkbox" value="Performance">
                                    <label for="performance">Aditivos de Performance</label>
                                </div>
                                <hr />
                            </div>
                    
                            <div id="filtro-propriedades">
                    
                                <div>
                                    <input class="filtro" type="checkbox" value="Flexível Convencional">
                                    <label for="catalizador">Flexivel Convencional - FF</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Alta Resiliência">
                                    <label for="silicone">Alta Resiliência - HR</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Visco Elástico">
                                    <label for="pigmento">Visco Elástico - VE</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Integral Skin">
                                    <label for="performance">Integral Skin - IS</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Rigido">
                                    <label for="performance">Rigido - RF</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Semi Rígido">
                                    <label for="performance">Semi Rígido - SR</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Hiper Soft">
                                    <label for="performance">Hiper Soft - HS</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Microcelucar">
                                    <label for="performance">Microcelucar - MC</label>
                                </div>
                                <hr />
                                <div>
                                    <input class="filtro" type="checkbox" value="Bloco">
                                    <label for="catalizador">Bloco</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Moldado">
                                    <label for="silicone">Moldado</label>
                                </div>
                                <hr />
                                <div>
                                    <input class="filtro" type="checkbox" value="Gelificação">
                                    <label for="silicone">Gelificação</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Expansão">
                                    <label for="silicone">Expansão</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Balanceado">
                                    <label for="silicone">Balanceado</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Bloqueado">
                                    <label for="silicone">Bloqueado</label>
                                </div>
                                <div>
                                    <input class="filtro" type="checkbox" value="Trimerização">
                                    <label for="silicone">Trimerização</label>
                                </div>
                            </div>
                    
                        </div>
                    
                        <div class="conteudo-busca">
                            <table class="dados-cat">
                                <thead>
                                    <th>Nome</th>
                                    <th>Catalizador</th>
                                    <th>Tipo</th>
                                    <th>Aplicação</th>
                                </thead>
                    
                                <tbody id="tabela-dados">
                    
                                </tbody>
                    
                            </table>
                        </div>
                    </div>

                <!-- Rodapé da Página -->
                <div class="home-footer">
                    <p> Aplicativo Conceito</p>
                    <p>© Todos o direitos reservados - AMINO QUIMICA LTDA</p>
                    <p>Desenvolvido por Lucas de Barros - Assistente Administrativo Operacional</p>
                </div>
        </div>
        <script>

            var btn = document.getElementById("segmento-atuacao");
                    var teste = document.getElementById("produto");
                    var produto = document.getElementById("filtro-propriedades");
                    var checkboxes = document.querySelectorAll(".check");

                    btn.addEventListener("change", function() {
                        var valor = btn.value;

                        if (valor == "1") {
                            teste.style.display = "block";
                        } 
                        if (valor == "2") {
                            alert("Teste 2");
                        }
                    });

            // Funcão para selecionar Segmento
            checkboxes.forEach(function(checkbox) {
                checkbox.addEventListener("change", function() {
                    if (checkbox.checked) {

                            console.log(`Checkbox selecionado: ${checkbox.value}`);
                            if(checkbox.value === 'catalizador'){
                                produto.style.display = "block";

                            }if(checkbox.value === 'silicone'){
                                produto.style.display = "none";
                                alert("Silicone");
                            }

                    
                    }
                });
            });
/*------------------ Functions Pagina de busca ------------------*/
                // Const com os dados da tabela
                const dados = [
                        {
                        nome: "AMICAT CRH 3001",
                        catalizador: "Expansão",
                        tipos: ["Bloco", "Moldado"],  // Alterado para um array de tipos
                        aplicacao: ["Flexível Convencional", "Alta Resiliência", "Visco Elástico"]
                    },
                    {
                        nome: "AMICAT CMR 3077",
                        catalizador: "Expansão",
                        tipos: ["N/A"],
                        aplicacao: ["Integral Skin", "Alta Resiliência", "Semi Rígido", "Microcelucar"]
                    },
                    {
                        nome: "AMICAT CMR 3300",
                        catalizador: "Gelificação",
                        tipos: ["Bloco", "Moldado"],
                        aplicacao: ["Flexível Convencional", "Alta Resiliência", "Visco Elástico","Integral Skin", "Rigido", "Semi Rígido", "Hiper Soft", "Microcelucar"]
                    },
                    {
                        nome: "AMICAT CMR 3750",
                        catalizador: "Balanceado",
                        tipos: ["Bloco", "Moldado"],
                        aplicacao: ["Flexível Convencional", "Alta Resiliência"]
                    },
                    {
                        nome: "AMICAT CFF 3200",
                        catalizador: "Balanceado",
                        tipos: ["Bloco"],
                        aplicacao: ["Flexível Convencional", "Alta Resiliência"]
                    },
                    {
                        nome: "AMICAT CMR 3113",
                        catalizador: "Balanceado",
                        tipos: ["Bloco"],
                        aplicacao: ["Flexível Convencional", "Alta Resiliência"]
                    },
                    {
                        nome: "AMICAT CMR 3040",
                        catalizador: "Balanceado",
                        tipos: ["Moldado"],
                        aplicacao: ["Alta Resiliência", "Semi Rígido"]
                    },
                    ]
                    function carregarDados(filtrados = dados){  //gera os dados na tabela
                        const tabelaDados = document.getElementById("tabela-dados");
                        tabelaDados.innerHTML = ""; //Apaga dados da tabela

                        if (filtrados.length === 0) {
                            tabelaDados.innerHTML = `<tr><td colspan="4" class="no-data">Nenhum dado encontrado</td></tr>`;
                            return;
                        }

                        filtrados.forEach((item) => {
                            const row = document.createElement("tr");

                            row.innerHTML = `
                                <td>${item.nome}</td>
                                <td>${item.catalizador}</td>
                                <td>${item.tipos}</td>
                                <td>${item.aplicacao}</td>
                            `;

                            tabelaDados.appendChild(row);
                        });
                    }

                // Função para filtrar os dados com base nos checkboxes selecionados
                function filtrarDados() {
                    const filtrosSelecionados = Array.from(document.querySelectorAll(".filtro:checked"))
                        .map((checkbox) => checkbox.value);

                    const dadosFiltrados = dados.filter((item) =>
                            filtrosSelecionados.some(filtro =>
                            item.catalizador === filtro ||
                            item.tipos.includes(filtro) ||  // Verifica se o tipo está no array de tipos
                            item.aplicacao.includes(filtro) // Verifica se a aplicação está no array de aplicações
                        )
                    );

                    const semDuplicatas = Array.from(
                        new Map(dadosFiltrados.map(item => [item.nome, item])).values()
                    );

                    carregarDados(dadosFiltrados);
                }

                        // Adiciona evento nos checkboxes para filtrar ao selecionar
                        document.querySelectorAll(".filtro").forEach((checkbox) => {
                    checkbox.addEventListener("change", filtrarDados);
                });

                // Carrega todos os dados ao iniciar a página
                window.onload = carregarDados;

         </script>
</body>
</html>
